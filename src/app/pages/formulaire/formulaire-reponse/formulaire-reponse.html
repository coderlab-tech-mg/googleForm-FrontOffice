<div class="container">
  <div class="formulaire-card">
    <h2>{{ formulaire.titre }}</h2>

    <div *ngFor="let q of formulaire.questions" class="question">
      <label class="question-text">{{ q.questionText }}</label>

      <!-- Texte -->
      <input
        *ngIf="q.type === 'text'"
        type="text"
        [(ngModel)]="reponseMap[q.id!]"
        class="form-control"
      />

      <!-- Radio -->
      <div *ngIf="q.type === 'radio'" class="options">
        <label *ngFor="let option of q.options" class="option-label">
          <input
            type="radio"
            [name]="'q' + q.id"
            [value]="option"
            [(ngModel)]="reponseMap[q.id!]"
          />
          {{ option }}
        </label>
      </div>

      <!-- Checkbox -->
      <div *ngIf="q.type === 'checkbox'" class="options">
        <label *ngFor="let option of q.options" class="option-label">
          <input
            type="checkbox"
            (change)="toggleCheckbox(q.id!, option)"
          />
          {{ option }}
        </label>
      </div>

      <!-- Select -->
      <select
        *ngIf="q.type === 'select'"
        [(ngModel)]="reponseMap[q.id!]"
        class="form-select"
      >
        <option *ngFor="let option of q.options">{{ option }}</option>
      </select>

      <hr />
    </div>

    <div class="btn-container">
      <button (click)="submit()" class="btn-repondre">
        RÃ©pondre
      </button>
    </div>
  </div>
</div>
